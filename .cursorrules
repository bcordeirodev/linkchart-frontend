# Cursor AI Rules - Link Chat Project

## ğŸ—ï¸ Arquitetura e PadrÃµes

### ğŸ“‹ Antes de Qualquer Desenvolvimento
1. **SEMPRE** ler `ARCHITECTURE_STRATEGY.md` e `COMPONENT_REUSE_MAP.md`
2. **VERIFICAR** componentes existentes em `/src/components/` antes de criar novos
3. **REUTILIZAR** hooks existentes em `/src/hooks/`
4. **USAR** tipos centralizados em `/src/types/`
5. **APLICAR** utilitÃ¡rios de `/src/utils/`

### ğŸ¯ Estrutura ObrigatÃ³ria para Novos MÃ³dulos

#### Estrutura de Arquivos:
```
src/app/[grupo]/[modulo]/page.tsx           // PÃ¡gina principal (< 100 linhas)
src/components/[modulo]/[Modulo]Header.tsx  // Header padrÃ£o
src/components/[modulo]/[Modulo]Metrics.tsx // MÃ©tricas (usar MetricCard)
src/components/[modulo]/[Modulo]Tabs.tsx    // Tabs (usar TabPanel)
src/types/[modulo].ts                       // Tipos centralizados
src/hooks/use[Modulo].ts                    // Hook customizado
```

#### Template de PÃ¡gina:
```typescript
'use client';

import { useState, useEffect, useCallback } from 'react';
import { Box, Alert, CircularProgress, Typography } from '@mui/material';
import { [Modulo]Header } from '@/components/[modulo]/[Modulo]Header';
import { [Modulo]Metrics } from '@/components/[modulo]/[Modulo]Metrics';
import { [Modulo]Tabs } from '@/components/[modulo]/[Modulo]Tabs';
import { use[Modulo] } from '@/hooks/use[Modulo]';

function [Modulo]Page() {
    const { data, loading, error } = use[Modulo]();
    
    if (loading) return <LoadingState />;
    if (error) return <ErrorState />;
    
    return (
        <Box sx={{ p: 3 }}>
            <[Modulo]Header />
            <[Modulo]Metrics summary={data.summary} />
            <[Modulo]Tabs data={data} />
        </Box>
    );
}

export default [Modulo]Page;
```

## ğŸ§© Componentes Base OBRIGATÃ“RIOS

### Layout e Estrutura:
- `PageBreadcrumb` - SEMPRE usar para navegaÃ§Ã£o
- `EnhancedPaper` - Container padrÃ£o estilizado
- `MetricCard` - Cards de mÃ©tricas (NÃƒO criar novos)
- `ChartCard` - Container de grÃ¡ficos (NÃƒO criar novos)
- `TabPanel` - PainÃ©is de tabs (NÃƒO criar novos)

### Charts e Analytics:
- `ApexChartWrapper` - Wrapper de grÃ¡ficos
- `formatAreaChart()` - FormataÃ§Ã£o de grÃ¡ficos de Ã¡rea
- `formatBarChart()` - FormataÃ§Ã£o de grÃ¡ficos de barras
- `formatPieChart()` - FormataÃ§Ã£o de grÃ¡ficos de pizza

### FormulÃ¡rios:
- `LinkForm` - FormulÃ¡rio unificado de links
- `URLShortenerForm` - FormulÃ¡rio de encurtamento
- `URLInput` - Input especializado para URLs

## ğŸ¨ PadrÃµes de Design

### Cores para MÃ©tricas:
```typescript
primary: 'primary'      // Dados principais
secondary: 'secondary'  // Dados secundÃ¡rios  
success: 'success'      // Dados positivos
info: 'info'           // InformaÃ§Ãµes
warning: 'warning'     // AtenÃ§Ã£o
error: 'error'         // Problemas
```

### Cores para Charts:
```typescript
'#1976d2'  // Azul principal
'#2e7d32'  // Verde
'#dc004e'  // Rosa
'#9c27b0'  // Roxo
'#ff9800'  // Laranja
'#d32f2f'  // Vermelho
```

### EspaÃ§amentos PadrÃ£o:
```typescript
{ p: 3 }        // Padding de pÃ¡gina
{ mb: 4 }       // Margin bottom entre seÃ§Ãµes
{ spacing: 3 }  // Grid spacing
{ spacing: 2 }  // Stack spacing
```

## ğŸ”§ Hooks e UtilitÃ¡rios

### Hooks DisponÃ­veis:
- `useLinks()` - Gerenciamento de links
- `useAnalytics()` - Dados de analytics
- `useLinkForm()` - FormulÃ¡rios de link
- `useClipboard()` - Clipboard
- `useDebounce()` - Debounce

### UtilitÃ¡rios DisponÃ­veis:
- `formatAreaChart()` - FormataÃ§Ã£o de grÃ¡ficos
- `formatUrlForDisplay()` - FormataÃ§Ã£o de URLs
- `capitalizeFirst()` - CapitalizaÃ§Ã£o
- `api.get/post/put/delete()` - Cliente API

## ğŸš« O Que NÃƒO Fazer

### âŒ Evitar Sempre:
- Criar MetricCard customizado (usar o existente)
- Criar ChartCard customizado (usar o existente)
- Criar TabPanel customizado (usar o existente)
- Duplicar lÃ³gica de formataÃ§Ã£o de charts
- Criar tipos duplicados para dados similares
- PÃ¡ginas com mais de 100 linhas
- Componentes com mais de 200 linhas

### âŒ Imports Incorretos:
- `@/auth/useUser` âŒ (usar `@auth/useUser` âœ…)
- Imports relativos longos âŒ (usar aliases âœ…)
- Imports de componentes nÃ£o existentes âŒ

### ğŸ§¹ Limpeza ObrigatÃ³ria de Arquivos:
- **SEMPRE** remover arquivos mortos apÃ³s refatoraÃ§Ãµes
- **IDENTIFICAR** e deletar componentes nÃ£o utilizados
- **LIMPAR** imports nÃ£o referenciados
- **REMOVER** tipos/interfaces nÃ£o utilizados
- **EXCLUIR** hooks nÃ£o referenciados
- **DELETAR** utilitÃ¡rios Ã³rfÃ£os
- **VERIFICAR** dependÃªncias nÃ£o utilizadas no package.json

## âœ… ValidaÃ§Ãµes ObrigatÃ³rias

### Antes de Commit:
```bash
npm run build          # Build deve passar
npx tsc --noEmit      # TypeScript sem erros crÃ­ticos
```

### ğŸ” Comandos para Identificar Arquivos Mortos:
```bash
# Verificar imports nÃ£o utilizados
npx unimported
# Analisar dependÃªncias nÃ£o utilizadas  
npx depcheck
# Buscar arquivos Ã³rfÃ£os (sem referÃªncias)
find src -name "*.ts" -o -name "*.tsx" | xargs grep -L "export"
```

### Checklist de Qualidade:
- [ ] Reutiliza >= 70% dos componentes existentes
- [ ] PÃ¡gina principal < 100 linhas
- [ ] Componentes < 200 linhas
- [ ] Zero duplicaÃ§Ã£o de cÃ³digo
- [ ] Tipos centralizados
- [ ] JSDoc em componentes principais
- [ ] Build compila sem erros
- [ ] Responsivo (mobile-first)
- [ ] **Arquivos mortos/nÃ£o utilizados removidos**

## ğŸ”„ Processo de RefatoraÃ§Ã£o/Melhoria

### ğŸ“‹ Checklist ObrigatÃ³rio:
1. **IMPLEMENTAR** a melhoria/ajuste
2. **EXECUTAR** comandos de detecÃ§Ã£o de arquivos mortos
3. **REMOVER** todos os arquivos nÃ£o utilizados encontrados
4. **LIMPAR** imports/exports Ã³rfÃ£os
5. **VERIFICAR** se build ainda funciona
6. **CONFIRMAR** que funcionalidade nÃ£o foi quebrada

### ğŸ§¹ Tipos de Arquivos para Limpar:
- Componentes nÃ£o referenciados
- Hooks nÃ£o utilizados
- Tipos/interfaces Ã³rfÃ£os
- UtilitÃ¡rios sem uso
- Imagens/assets nÃ£o referenciados
- Arquivos de configuraÃ§Ã£o obsoletos
- Dependencies no package.json nÃ£o utilizadas

### âš¡ Regra de Ouro:
> **"TODA refatoraÃ§Ã£o/melhoria DEVE incluir limpeza de arquivos mortos"**

## ğŸ¯ Exemplos de Sucesso

### âœ… MÃ³dulos Bem Implementados:
- `dashboard/` - 130 linhas, bem componentizado
- `analytics/` - 93 linhas, modular
- `profile/` - 96 linhas, componentizado
- `link/` - 103 linhas, reutiliza componentes
- `rate-limit/` - 79 linhas, segue padrÃ£o

### ğŸ“Š Resultados AlcanÃ§ados:
- Bundle sizes reduzidos em 50-88%
- CÃ³digo duplicado = 0%
- Componentes reutilizÃ¡veis = 15+
- Tipos centralizados = 100%
- PadrÃ£o consistente = 100%

## ğŸš€ Para o Cursor AI

### ğŸ¤– InstruÃ§Ãµes EspecÃ­ficas:
1. **SEMPRE** consultar este arquivo antes de criar novos mÃ³dulos
2. **PRIORIZAR** reutilizaÃ§Ã£o sobre criaÃ§Ã£o
3. **SEGUIR** templates e padrÃµes definidos
4. **MANTER** consistÃªncia arquitetural
5. **OTIMIZAR** performance atravÃ©s de componentizaÃ§Ã£o
6. **LIMPAR** arquivos mortos/nÃ£o utilizados apÃ³s refatoraÃ§Ãµes e melhorias

### ğŸ“‹ Prompt Sugerido:
"Criar mÃ³dulo [nome] seguindo ARCHITECTURE_STRATEGY.md, reutilizando componentes de COMPONENT_REUSE_MAP.md, mantendo pÃ¡gina < 100 linhas e usando padrÃµes estabelecidos"

---

**ğŸ¯ OBJETIVO**: Manter cÃ³digo limpo, performÃ¡tico e consistente atravÃ©s de reutilizaÃ§Ã£o inteligente de componentes e limpeza constante de arquivos mortos!
